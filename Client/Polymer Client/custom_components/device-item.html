<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/paper-slider/paper-slider.html">

<polymer-element name="device-item">
	<template>
		<style>
			:host {
				background-color: white;
				padding: 20px;
				width: 225px;
				margin: 10px;
			}
			.names {
				float: left;
				margin: 10px;
			}
			.values {
				float: left;
				margin: 10px;
			}
		</style>
		<div layout horizontal center>
			<h3>{{device.Name}}<h3>
		</div>
		<template if="{{device.Type === 'Multilevel Power Switch'}}">
			<paper-slider
				min="0"
				max="99"
				value="{{device.Values.Level}}"
				editable
				on-change="{{sliderChanged}}">
			</paper-slider>
		</template>
		<template if="{{device.Values['Battery Level']}}">
			<div class="names">
				<span block>Battery Level</span>
			</div>
			<div class="values">
				<span block>{{device.Values["Battery Level"]}}</span>
			</div>
		</template>
	</template>
	<script>
		Polymer('device-item', {
			publish: {
				device: {},
			},
			sliderChanged: function(event, detail, sender) {
				var commandstring = "SETNODE~"+this.device.ID+"~Level="+sender.value;
				this.fire('send-command',{command:commandstring});
			},
		});
	</script>
</polymer-element>
