<!--I want to make a generic websocket client and style the webpage in Drupal. This client is mainly a test.-->
<!DOCTYPE html>  
<html>  
    <head>
        <script src="http://code.jquery.com/jquery-2.1.0.min.js"></script>
        <script type="text/javascript">
            $(document).ready(function() {
                window.WebSocket = window.WebSocket || window.MozWebSocket; 
                var websocket = new WebSocket('ws://openzwave-server-ip:6005', 'open-zwave');
                websocket.onopen = function () {
                    $('h1').html('Connected!');
                };
                websocket.onerror = function () {
                    $('h1').html('Error Connecting! Have you set the Openzwave-server-ip in this index.html file?');
                };
                websocket.onmessage = function (message) {
                    $('div').append(message.data + "<br />");
                }; 
                $('button').click(function(e) {
                    e.preventDefault();
                    websocket.send($('input').val());
                    $('input').val('');
                });
            });
        </script>
        </head>
    <body>
        <h1>WebSocket Status</h1>
        <input type="text" />
        <button>Send Test Message</button>
        <div></div>
    </body>
</html>